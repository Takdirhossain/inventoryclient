<h2 class="">Customers</h2>
<div class="job__search__form--container mt-3">
  <form class="form-control-main">
    <div class="add-customer-form">
      <div class="namewrapper">
        <label for="name">Name</label>
        <input
          class="nameinput"
          placeholder="Enter name"
          id="name"
          autocomplete="off"
          formControlName="name"
        />
        <i class="fa-solid fa-user"></i>
      </div>
      <div class="namewrapper">
        <label for="code">Location</label>
        <input
          class="location"
          id="code"
          placeholder="Enter location"
          autocomplete="off"
          formControlName="code"
        />
        <i class="fa-solid fa-arrow-down-1-9"></i>
      </div>
    </div>
    <div class="add-button">
      <button class="btn button btn-primary" type="btn">Add</button>
    </div>
  </form>

  <div class="content-area mt-5">
    <form class="pt-5">
      <div class="mb-3 row">
        <label
          for="table-filtering-search"
          class="col-xs-3 col-sm-auto col-form-label"
          >Full text search:</label
        >
        <div class="col-xs-3 col-sm-auto"></div>
      </div>
    </form>

    <div class="customertable">
      <table class="table table-striped" id="content" #content>
        <thead class="    ">
          <tr class="">
            <th class="text-white tablehead" scope="col">Id</th>
            <th class="text-white tablehead" scope="col">Name</th>
            <th class="text-white tablehead" scope="col">Total Buy</th>
            <th class="text-white tablehead" scope="col">Total Pay</th>

            <th class="text-white tablehead short" (click)="short()">
              <div (click)="heightToLow()" *ngIf="shorintg">
                Due <i class="bi bi-arrow-down"></i>
                <i class="bi bi-arrow-up"></i>
              </div>
              <div (click)="lowTOHeight()" *ngIf="!shorintg">
                Due <i class="bi bi-arrow-up"></i>
                <i class="bi bi-arrow-down"></i>
              </div>
            </th>
            <th class="text-white tablehead">Report</th>
            <th class="text-white tablehead">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of customer$ | async; let i = index">
            <th scope="row">{{ i + 1 }}</th>
            <td>
              {{ item.name }}
            </td>
            <td>
              {{ item.todal_buy }}
            </td>
            <td>
              {{ item.total_pay }}
            </td>
            <td>
              {{ item.due }}
            </td>
            <td [routerLink]="['/report', +item.id]" class="report">Report</td>

            <td class="d-flex gap-3">
              <i
                (click)="editcustomer(item)"
                role="button"
                class="bi bi-pencil-square"
              ></i>
              <i
                role="button"
                (click)="(item.id)"
                class="bi bi-trash3-fill"
              ></i>
            </td>
          </tr>

          <tr *ngIf="(customer$ | async)?.length == 0">
            <td colspan="7" style="text-align: center">No countries found</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
